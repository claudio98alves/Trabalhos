{"dependencies":[{"name":"../utils/buffer","data":{"isAsync":false}},{"name":"./polynomial","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var Buffer = _$$_REQUIRE(_dependencyMap[0], \"../utils/buffer\");\n\n  var Polynomial = _$$_REQUIRE(_dependencyMap[1], \"./polynomial\");\n\n  function ReedSolomonEncoder(degree) {\n    this.genPoly = undefined;\n    this.degree = degree;\n    if (this.degree) this.initialize(this.degree);\n  }\n\n  ReedSolomonEncoder.prototype.initialize = function initialize(degree) {\n    this.degree = degree;\n    this.genPoly = Polynomial.generateECPolynomial(this.degree);\n  };\n\n  ReedSolomonEncoder.prototype.encode = function encode(data) {\n    if (!this.genPoly) {\n      throw new Error('Encoder not initialized');\n    }\n\n    var pad = new Buffer(this.degree);\n    pad.fill(0);\n    var paddedData = Buffer.concat([data, pad], data.length + this.degree);\n    var remainder = Polynomial.mod(paddedData, this.genPoly);\n    var start = this.degree - remainder.length;\n\n    if (start > 0) {\n      var buff = new Buffer(this.degree);\n      buff.fill(0);\n      remainder.copy(buff, start);\n      return buff;\n    }\n\n    return remainder;\n  };\n\n  module.exports = ReedSolomonEncoder;\n});","map":[[2,0,1,0],[2,6,1,4,"Buffer"],[2,12,1,10],[2,15,1,13,"require"],[2,26,1,20],[2,64,1,0],[4,0,2,0],[4,6,2,4,"Polynomial"],[4,16,2,14],[4,19,2,17,"require"],[4,30,2,24],[4,65,2,0],[6,0,4,0],[6,11,4,9,"ReedSolomonEncoder"],[6,29,4,0],[6,30,4,29,"degree"],[6,36,4,0],[6,38,4,37],[7,0,5,2],[7,9,5,7,"genPoly"],[7,16,5,2],[7,19,5,17,"undefined"],[7,28,5,2],[8,0,6,2],[8,9,6,7,"degree"],[8,15,6,2],[8,18,6,16,"degree"],[8,24,6,2],[9,0,8,2],[9,8,8,6],[9,13,8,11,"degree"],[9,19,8,2],[9,21,8,19],[9,26,8,24,"initialize"],[9,36,8,19],[9,37,8,35],[9,42,8,40,"degree"],[9,48,8,19],[10,0,9,1],[12,0,17,0,"ReedSolomonEncoder"],[12,2,17,0,"ReedSolomonEncoder"],[12,20,17,18],[12,21,17,19,"prototype"],[12,30,17,0],[12,31,17,29,"initialize"],[12,41,17,0],[12,44,17,42],[12,53,17,51,"initialize"],[12,63,17,42],[12,64,17,63,"degree"],[12,70,17,42],[12,72,17,71],[13,0,19,2],[13,9,19,7,"degree"],[13,15,19,2],[13,18,19,16,"degree"],[13,24,19,2],[14,0,20,2],[14,9,20,7,"genPoly"],[14,16,20,2],[14,19,20,17,"Polynomial"],[14,29,20,27],[14,30,20,28,"generateECPolynomial"],[14,50,20,17],[14,51,20,49],[14,56,20,54,"degree"],[14,62,20,17],[14,63,20,2],[15,0,21,1],[15,3,17,0],[17,0,29,0,"ReedSolomonEncoder"],[17,2,29,0,"ReedSolomonEncoder"],[17,20,29,18],[17,21,29,19,"prototype"],[17,30,29,0],[17,31,29,29,"encode"],[17,37,29,0],[17,40,29,38],[17,49,29,47,"encode"],[17,55,29,38],[17,56,29,55,"data"],[17,60,29,38],[17,62,29,61],[18,0,30,2],[18,8,30,6],[18,9,30,7],[18,14,30,12,"genPoly"],[18,21,30,2],[18,23,30,21],[19,0,31,4],[19,12,31,10],[19,16,31,14,"Error"],[19,21,31,10],[19,22,31,20],[19,47,31,10],[19,48,31,4],[20,0,32,3],[22,0,36,2],[22,8,36,6,"pad"],[22,11,36,9],[22,14,36,12],[22,18,36,16,"Buffer"],[22,24,36,12],[22,25,36,23],[22,30,36,28,"degree"],[22,36,36,12],[22,37,36,2],[23,0,37,2,"pad"],[23,4,37,2,"pad"],[23,7,37,5],[23,8,37,6,"fill"],[23,12,37,2],[23,13,37,11],[23,14,37,2],[24,0,38,2],[24,8,38,6,"paddedData"],[24,18,38,16],[24,21,38,19,"Buffer"],[24,27,38,25],[24,28,38,26,"concat"],[24,34,38,19],[24,35,38,33],[24,36,38,34,"data"],[24,40,38,33],[24,42,38,40,"pad"],[24,45,38,33],[24,46,38,19],[24,48,38,46,"data"],[24,52,38,50],[24,53,38,51,"length"],[24,59,38,46],[24,62,38,60],[24,67,38,65,"degree"],[24,73,38,19],[24,74,38,2],[25,0,42,2],[25,8,42,6,"remainder"],[25,17,42,15],[25,20,42,18,"Polynomial"],[25,30,42,28],[25,31,42,29,"mod"],[25,34,42,18],[25,35,42,33,"paddedData"],[25,45,42,18],[25,47,42,45],[25,52,42,50,"genPoly"],[25,59,42,18],[25,60,42,2],[26,0,47,2],[26,8,47,6,"start"],[26,13,47,11],[26,16,47,14],[26,21,47,19,"degree"],[26,27,47,14],[26,30,47,28,"remainder"],[26,39,47,37],[26,40,47,38,"length"],[26,46,47,2],[28,0,48,2],[28,8,48,6,"start"],[28,13,48,11],[28,16,48,14],[28,17,48,2],[28,19,48,17],[29,0,49,4],[29,10,49,8,"buff"],[29,14,49,12],[29,17,49,15],[29,21,49,19,"Buffer"],[29,27,49,15],[29,28,49,26],[29,33,49,31,"degree"],[29,39,49,15],[29,40,49,4],[30,0,50,4,"buff"],[30,6,50,4,"buff"],[30,10,50,8],[30,11,50,9,"fill"],[30,15,50,4],[30,16,50,14],[30,17,50,4],[31,0,51,4,"remainder"],[31,6,51,4,"remainder"],[31,15,51,13],[31,16,51,14,"copy"],[31,20,51,4],[31,21,51,19,"buff"],[31,25,51,4],[31,27,51,25,"start"],[31,32,51,4],[32,0,53,4],[32,13,53,11,"buff"],[32,17,53,4],[33,0,54,3],[35,0,56,2],[35,11,56,9,"remainder"],[35,20,56,2],[36,0,57,1],[36,3,29,0],[38,0,59,0,"module"],[38,2,59,0,"module"],[38,8,59,6],[38,9,59,7,"exports"],[38,16,59,0],[38,19,59,17,"ReedSolomonEncoder"],[38,37,59,0]]},"type":"js/module"}]}